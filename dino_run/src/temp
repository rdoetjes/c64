
  



  !

  !right:         // move the player sprite to the right but not use the high bit, we don't want the player to be too close to the spwaning enemy
    lda #$ff
    cmp $d000
    bne !move+
    rts
  !move:
    inc $d000
    rts

  





beq !
  !:
  jmp !jump_up+
  cmp #3        // state coming down from jump
  bne !input+
  jmp !jump_down+

 !input: 
  lda $ff         // up, jump
  and #$01
  bne !+
  jmp !jump_up+ 
  !:
  lda $ff         // fire button is also jump
  and #$10
  bne !+
  jmp !jump_up+
  !:
  lda $ff         // left
  and #$04
  bne !+
  jmp !left+
  !:
  lda $ff         // right
  and #$08
  bne !+
  jmp !right+
  !:
  lda $ff         // neutral position (always moving)
  and #$80 
  bne !+
  jmp !walk+
  !:
  lda $ff         // down is dug
  and #$02
  bne !+
  jmp !dug+
  !:
  rts